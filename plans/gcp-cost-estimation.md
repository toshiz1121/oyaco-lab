# GCPデプロイコスト詳細見積もり (MVPフェーズ)

MVP開発において、アクセスが少ない状態（開発中〜初期ユーザー獲得）を想定したコスト内訳です。

## 1. Cloud Run のコスト構造 (無料枠が非常に強力)

Cloud Run は「使った分だけ」の課金ですが、毎月リセットされる無料枠が非常に大きいです。

| 項目 | 無料枠 (毎月) | 無料枠を超えた後の単価 (目安) |
| :--- | :--- | :--- |
| **CPU** | 180,000 vCPU秒 | $0.000024 / vCPU秒 |
| **メモリ** | 360,000 GiB秒 | $0.0000025 / GiB秒 |
| **リクエスト数** | 200万リクエスト | $0.40 / 100万リクエスト |
| **ネット通信** | 1 GiB (北米) | $0.08〜 / GiB |

**【MVPでの月額想定】**
1日100回程度のアクセスであれば、CPU/メモリ/リクエスト数ともに無料枠内に収まる可能性が高く、**ほぼ 0円** です。

## 2. 周辺サービスのコスト (固定費に近いもの)

Cloud Run 単体ではなく、以下の管理費用が数円〜数十円単位で発生します。

| サービス | 項目 | 単価 | 月額想定 |
| :--- | :--- | :--- | :--- |
| **Artifact Registry** | イメージ保存量 | $0.10 / GiB | 1〜2 GiBで **15円〜30円** |
| **Secret Manager** | シークレット数 | $0.06 / 個 | 1個(APIキー)で **10円以下** |
| **Cloud Build** | ビルド時間 | 2,500分/月まで無料 | MVP開発なら **0円** |

## 3. Firebase App Hosting のコスト

Firebase App Hosting は内部的に Cloud Run や Cloud Build を利用しているため、基本的には上記 GCP の計算と似ていますが、以下の違いがあります。

- **現在のステータス**: プレビュー版。
- **課金体系**: Firebase の「Blaze（従量制）プラン」が必要。
- **メリット**: 設定が自動化される分、裏側で複数の GCP リソース（Cloud Run, Storage, Build等）が作成されますが、個別に管理する手間が省けます。コスト感は Cloud Run と同等か、管理リソース分わずかに（数十円程度）増える可能性があります。

## 4. 総評：どちらが安い？

結論として、**どちらを選んでも月額数百円以内（多くの場合は数十円）**で収まります。

- **より安く、制御したい**: **Cloud Run**
    - 自分で Docker イメージを管理するため、不要なイメージを消せばストレージ料金を最小化できます。
- **手間を省きたい**: **Firebase App Hosting**
    - インフラの知識が少なくても、GitHub連携でよしなにやってくれます。

## 5. 注意点：課金が発生するタイミング

1. **ドメイン**: 独自ドメイン（.com など）を取得する場合は、年間数千円のドメイン登録料が別途かかります。
2. **Gemini API**: アプリ側の API 利用料（Google AI SDK の料金）は別途かかります。GCP のインフラ料金とは別物です。
3. **過剰なビルド**: 1日に何十回もデプロイを繰り返すと、Artifact Registry に古いイメージが溜まり、月額数百円程度に膨らむことがあります（古いイメージを消す設定で回避可能）。

---

この内容で、懸念点は解消されましたでしょうか？
次に進む場合は、具体的な手順書の作成に入ります。
