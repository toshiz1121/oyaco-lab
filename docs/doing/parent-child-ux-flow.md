# è¦ªå­UXãƒ•ãƒ­ãƒ¼è¨­è¨ˆ

## ğŸ¯ èª²é¡Œ

**è³ªå•**: 
- è¦ªã¯ã©ã“ã‹ã‚‰è¦ªå°‚ç”¨ç”»é¢ï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰ã«è¡Œãã®ï¼Ÿ
- å­ä¾›ãŒè¦ªã®ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ã«ã¯ï¼Ÿ

**å›ç­”**: 2ã¤ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’ææ¡ˆã—ã¾ã™

---

## ğŸ“± æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ: ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ–¹å¼

### ç”»é¢æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”¬ ã‚­ãƒƒã‚ºã‚µã‚¤ã‚¨ãƒ³ã‚¹ãƒ©ãƒœ  ğŸ‘¦ãŸã‚ã† â–¼ â”‚ â† ãƒ˜ãƒƒãƒ€ãƒ¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  [å­ä¾›ãƒ¢ãƒ¼ãƒ‰] ãƒ¡ã‚¤ãƒ³ç”»é¢            â”‚ â† ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
â”‚  - è³ªå•å…¥åŠ›                         â”‚
â”‚  - å›ç­”è¡¨ç¤º                         â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ‘¦ãŸã‚ã† â–¼ ã‚’ã‚¯ãƒªãƒƒã‚¯
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¦ ãŸã‚ã† (5æ­³) â”‚ â† ç¾åœ¨é¸æŠä¸­
â”‚ ğŸ‘§ ã¯ãªã“ (7æ­³) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â• å­ä¾›ã‚’è¿½åŠ    â”‚
â”‚ ğŸ‘¨ è¦ªãƒ¢ãƒ¼ãƒ‰     â”‚ â† è¦ªå°‚ç”¨ç”»é¢ã¸
â”‚ ğŸšª ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç‰¹å¾´

1. **å­ä¾›ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰**
   - è³ªå•ã¨å›ç­”ã®ã‚·ãƒ³ãƒ—ãƒ«ãªç”»é¢
   - è¦ªã®æ©Ÿèƒ½ã¯éš ã•ã‚Œã¦ã„ã‚‹
   - å­ä¾›ãŒä½¿ã„ã‚„ã™ã„UI

2. **è¦ªãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ã‹ã‚‰åˆ‡ã‚Šæ›¿ãˆï¼‰**
   - å…¨ã¦ã®å­ä¾›ã®å±¥æ­´ã‚’é–²è¦§
   - çµ±è¨ˆæƒ…å ±ã®ç¢ºèª
   - å­ä¾›ã®è¿½åŠ ãƒ»ç·¨é›†
   - è¨­å®šå¤‰æ›´

3. **åˆ‡ã‚Šæ›¿ãˆæ–¹æ³•**
   - ãƒ˜ãƒƒãƒ€ãƒ¼ã®å­ä¾›åã‚’ã‚¯ãƒªãƒƒã‚¯
   - ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€Œè¦ªãƒ¢ãƒ¼ãƒ‰ã€ã‚’é¸æŠ
   - ç°¡å˜ãªPINèªè¨¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

---

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–

### ãƒ¬ãƒ™ãƒ«1: UIéè¡¨ç¤ºï¼ˆåŸºæœ¬ï¼‰

å­ä¾›ãƒ¢ãƒ¼ãƒ‰ã§ã¯è¦ªæ©Ÿèƒ½ã‚’è¡¨ç¤ºã—ãªã„

```typescript
// ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
{!isParentMode && (
  <div>å­ä¾›å‘ã‘ã‚·ãƒ³ãƒ—ãƒ«UI</div>
)}

{isParentMode && (
  <div>è¦ªå‘ã‘è©³ç´°UI</div>
)}
```

### ãƒ¬ãƒ™ãƒ«2: PINèªè¨¼ï¼ˆæ¨å¥¨ï¼‰

è¦ªãƒ¢ãƒ¼ãƒ‰ã«å…¥ã‚‹éš›ã«4æ¡ã®PINã‚’è¦æ±‚

```typescript
// è¦ªãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆæ™‚
const enterParentMode = async () => {
  const pin = prompt('è¦ªãƒ¢ãƒ¼ãƒ‰ã«å…¥ã‚‹ã«ã¯PINã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
  
  if (pin === parentUser.settings.parentPin) {
    setIsParentMode(true);
    router.push('/parent-dashboard');
  } else {
    alert('PINãŒé•ã„ã¾ã™');
  }
};
```

### ãƒ¬ãƒ™ãƒ«3: å†èªè¨¼ï¼ˆæœ€é«˜ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ï¼‰

è¦ªãƒ¢ãƒ¼ãƒ‰ã«å…¥ã‚‹éš›ã«Googleã§å†èªè¨¼

```typescript
const enterParentMode = async () => {
  // Googleå†èªè¨¼
  await reauthenticateWithPopup(auth.currentUser, provider);
  setIsParentMode(true);
  router.push('/parent-dashboard');
};
```

---

## ğŸ¨ ç”»é¢è¨­è¨ˆè©³ç´°

### 1. å­ä¾›ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ¡ã‚¤ãƒ³ç”»é¢ï¼‰

**ãƒ‘ã‚¹**: `/`

**ç‰¹å¾´**:
- ã‚·ãƒ³ãƒ—ãƒ«ã§å¤§ããªãƒœã‚¿ãƒ³
- ã‚«ãƒ©ãƒ•ãƒ«ã§æ¥½ã—ã„ãƒ‡ã‚¶ã‚¤ãƒ³
- è³ªå•å…¥åŠ›ã¨å›ç­”è¡¨ç¤ºã®ã¿
- è¦ªæ©Ÿèƒ½ã¯å®Œå…¨ã«éš ã™

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”¬ ã‚­ãƒƒã‚ºã‚µã‚¤ã‚¨ãƒ³ã‚¹ãƒ©ãƒœ  ğŸ‘¦ãŸã‚ã† â–¼ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
```typescript
// src/components/ChildModeHeader.tsx
export function ChildModeHeader() {
  return (
    <header className="bg-gradient-to-r from-blue-400 to-purple-400 text-white">
      <div className="flex justify-between items-center p-4">
        <h1 className="text-2xl font-bold">ğŸ”¬ ã‚­ãƒƒã‚ºã‚µã‚¤ã‚¨ãƒ³ã‚¹ãƒ©ãƒœ</h1>
        <ChildSelector /> {/* å­ä¾›åˆ‡ã‚Šæ›¿ãˆã®ã¿ */}
      </div>
    </header>
  );
}
```

---

### 2. è¦ªãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰

**ãƒ‘ã‚¹**: `/parent-dashboard`

**ç‰¹å¾´**:
- è©³ç´°ãªçµ±è¨ˆæƒ…å ±
- å…¨ã¦ã®å­ä¾›ã®å±¥æ­´
- å­ä¾›ã®ç®¡ç†æ©Ÿèƒ½
- è¨­å®šå¤‰æ›´

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¨ è¦ªãƒ¢ãƒ¼ãƒ‰ | å­ä¾›ãƒ¢ãƒ¼ãƒ‰ã«æˆ»ã‚‹      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
```typescript
// src/components/ParentModeHeader.tsx
export function ParentModeHeader() {
  return (
    <header className="bg-gray-800 text-white">
      <div className="flex justify-between items-center p-4">
        <div className="flex items-center gap-4">
          <span className="text-xl">ğŸ‘¨ è¦ªãƒ¢ãƒ¼ãƒ‰</span>
          <button onClick={exitParentMode}>
            å­ä¾›ãƒ¢ãƒ¼ãƒ‰ã«æˆ»ã‚‹
          </button>
        </div>
        <UserMenu />
      </div>
    </header>
  );
}
```

---

## ğŸ”„ ç”»é¢é·ç§»ãƒ•ãƒ­ãƒ¼

### åˆå›ãƒ­ã‚°ã‚¤ãƒ³
```
1. ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ (/login)
   â†“ Googleãƒ­ã‚°ã‚¤ãƒ³
2. å­ä¾›é¸æŠç”»é¢ (/select-child)
   â†“ å­ä¾›ã‚’é¸æŠ
3. å­ä¾›ãƒ¢ãƒ¼ãƒ‰ (/)
```

### è¦ªãƒ¢ãƒ¼ãƒ‰ã¸ã®åˆ‡ã‚Šæ›¿ãˆ
```
å­ä¾›ãƒ¢ãƒ¼ãƒ‰ (/)
   â†“ ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ ã€Œè¦ªãƒ¢ãƒ¼ãƒ‰ã€
   â†“ PINå…¥åŠ›ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
è¦ªãƒ¢ãƒ¼ãƒ‰ (/parent-dashboard)
```

### å­ä¾›ã®åˆ‡ã‚Šæ›¿ãˆ
```
å­ä¾›ãƒ¢ãƒ¼ãƒ‰ (/)
   â†“ ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ åˆ¥ã®å­ä¾›ã‚’é¸æŠ
å­ä¾›ãƒ¢ãƒ¼ãƒ‰ (/) â€»åˆ¥ã®å­ä¾›
```

### å­ä¾›ã®è¿½åŠ 
```
å­ä¾›ãƒ¢ãƒ¼ãƒ‰ (/)
   â†“ ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ ã€Œå­ä¾›ã‚’è¿½åŠ ã€
å­ä¾›è¿½åŠ ç”»é¢ (/add-child)
   â†“ è¿½åŠ å®Œäº†
å­ä¾›é¸æŠç”»é¢ (/select-child)
```

---

## ğŸ’» å®Ÿè£…ä¾‹

### 1. ãƒ¢ãƒ¼ãƒ‰ç®¡ç†Context

```typescript
// src/contexts/ModeContext.tsx
'use client';

import { createContext, useContext, useState } from 'react';

interface ModeContextType {
  isParentMode: boolean;
  enterParentMode: (pin?: string) => Promise<boolean>;
  exitParentMode: () => void;
}

const ModeContext = createContext<ModeContextType | undefined>(undefined);

export function ModeProvider({ children }: { children: React.ReactNode }) {
  const [isParentMode, setIsParentMode] = useState(false);

  const enterParentMode = async (pin?: string) => {
    // PINèªè¨¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
    if (pin) {
      // TODO: PINã‚’æ¤œè¨¼
      const isValid = await validatePin(pin);
      if (!isValid) {
        return false;
      }
    }
    
    setIsParentMode(true);
    return true;
  };

  const exitParentMode = () => {
    setIsParentMode(false);
  };

  return (
    <ModeContext.Provider value={{ isParentMode, enterParentMode, exitParentMode }}>
      {children}
    </ModeContext.Provider>
  );
}

export function useMode() {
  const context = useContext(ModeContext);
  if (!context) {
    throw new Error('useMode must be used within ModeProvider');
  }
  return context;
}
```

### 2. ãƒ˜ãƒƒãƒ€ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```typescript
// src/components/Header.tsx
'use client';

import { useAuth } from '@/contexts/AuthContext';
import { useMode } from '@/contexts/ModeContext';
import { useRouter } from 'next/navigation';
import { useState, useEffect } from 'react';
import { getChildProfile } from '@/lib/firebase/firestore';

export function Header() {
  const { activeChildId, childrenIds, selectChild, signOut } = useAuth();
  const { isParentMode, enterParentMode, exitParentMode } = useMode();
  const router = useRouter();
  
  const [childName, setChildName] = useState('');
  const [showMenu, setShowMenu] = useState(false);
  const [children, setChildren] = useState<any[]>([]);

  useEffect(() => {
    if (activeChildId) {
      loadChildName();
    }
    if (childrenIds.length > 0) {
      loadChildren();
    }
  }, [activeChildId, childrenIds]);

  const loadChildName = async () => {
    if (!activeChildId) return;
    const profile = await getChildProfile(activeChildId);
    if (profile) {
      setChildName(profile.name);
    }
  };

  const loadChildren = async () => {
    const profiles = await Promise.all(
      childrenIds.map(id => getChildProfile(id))
    );
    setChildren(profiles.filter(p => p !== null));
  };

  const handleSelectChild = async (childId: string) => {
    await selectChild(childId);
    setShowMenu(false);
    router.push('/');
  };

  const handleEnterParentMode = async () => {
    const pin = prompt('è¦ªãƒ¢ãƒ¼ãƒ‰ã«å…¥ã‚‹ã«ã¯PINã‚’å…¥åŠ›ã—ã¦ãã ã•ã„\nï¼ˆãƒ‡ãƒ¢ç”¨: 1234ï¼‰');
    
    if (pin === '1234') { // TODO: å®Ÿéš›ã®PINã¨ç…§åˆ
      const success = await enterParentMode(pin);
      if (success) {
        setShowMenu(false);
        router.push('/parent-dashboard');
      }
    } else {
      alert('PINãŒé•ã„ã¾ã™');
    }
  };

  const handleExitParentMode = () => {
    exitParentMode();
    router.push('/');
  };

  const handleAddChild = () => {
    setShowMenu(false);
    router.push('/add-child');
  };

  const handleSignOut = async () => {
    await signOut();
    router.push('/login');
  };

  // è¦ªãƒ¢ãƒ¼ãƒ‰ã®ãƒ˜ãƒƒãƒ€ãƒ¼
  if (isParentMode) {
    return (
      <header className="bg-gray-800 text-white shadow-lg">
        <div className="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
          <div className="flex items-center gap-4">
            <span className="text-xl font-bold">ğŸ‘¨ è¦ªãƒ¢ãƒ¼ãƒ‰</span>
            <button
              onClick={handleExitParentMode}
              className="px-4 py-2 bg-blue-500 rounded-lg hover:bg-blue-600 transition-colors"
            >
              å­ä¾›ãƒ¢ãƒ¼ãƒ‰ã«æˆ»ã‚‹
            </button>
          </div>
          
          <button
            onClick={handleSignOut}
            className="text-gray-300 hover:text-white"
          >
            ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
          </button>
        </div>
      </header>
    );
  }

  // å­ä¾›ãƒ¢ãƒ¼ãƒ‰ã®ãƒ˜ãƒƒãƒ€ãƒ¼
  return (
    <header className="bg-gradient-to-r from-blue-400 to-purple-400 text-white shadow-lg">
      <div className="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
        <h1 className="text-2xl font-bold">ğŸ”¬ ã‚­ãƒƒã‚ºã‚µã‚¤ã‚¨ãƒ³ã‚¹ãƒ©ãƒœ</h1>
        
        <div className="relative">
          <button
            onClick={() => setShowMenu(!showMenu)}
            className="flex items-center gap-2 px-4 py-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors"
          >
            <span className="text-lg">ğŸ‘¦ {childName}</span>
            <span className="text-sm">â–¼</span>
          </button>
          
          {showMenu && (
            <div className="absolute right-0 mt-2 bg-white text-gray-800 shadow-xl rounded-lg overflow-hidden min-w-[200px] z-50">
              {/* å­ä¾›ãƒªã‚¹ãƒˆ */}
              <div className="border-b border-gray-200">
                {children.map((child) => (
                  <button
                    key={child.childId}
                    onClick={() => handleSelectChild(child.childId)}
                    className={`w-full text-left px-4 py-3 hover:bg-blue-50 transition-colors ${
                      child.childId === activeChildId ? 'bg-blue-100 font-bold' : ''
                    }`}
                  >
                    <div className="flex items-center gap-2">
                      <span>ğŸ‘¦</span>
                      <div>
                        <div>{child.name}</div>
                        <div className="text-xs text-gray-500">{child.age}æ­³</div>
                      </div>
                      {child.childId === activeChildId && (
                        <span className="ml-auto text-blue-500">âœ“</span>
                      )}
                    </div>
                  </button>
                ))}
              </div>
              
              {/* å­ä¾›è¿½åŠ  */}
              <button
                onClick={handleAddChild}
                className="w-full text-left px-4 py-3 hover:bg-green-50 transition-colors flex items-center gap-2"
              >
                <span>â•</span>
                <span>å­ä¾›ã‚’è¿½åŠ </span>
              </button>
              
              {/* è¦ªãƒ¢ãƒ¼ãƒ‰ */}
              <button
                onClick={handleEnterParentMode}
                className="w-full text-left px-4 py-3 hover:bg-purple-50 transition-colors flex items-center gap-2 border-t border-gray-200"
              >
                <span>ğŸ‘¨</span>
                <span className="font-medium">è¦ªãƒ¢ãƒ¼ãƒ‰</span>
              </button>
              
              {/* ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ */}
              <button
                onClick={handleSignOut}
                className="w-full text-left px-4 py-3 hover:bg-red-50 text-red-600 transition-colors flex items-center gap-2 border-t border-gray-200"
              >
                <span>ğŸšª</span>
                <span>ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</span>
              </button>
            </div>
          )}
        </div>
      </div>
    </header>
  );
}
```

### 3. è¦ªãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

```typescript
// src/app/parent-dashboard/page.tsx
'use client';

import { useAuth } from '@/contexts/AuthContext';
import { useMode } from '@/contexts/ModeContext';
import { useRouter } from 'next/navigation';
import { useEffect, useState } from 'react';
import { getChildProfile, getRecentConversations } from '@/lib/firebase/firestore';

export default function ParentDashboardPage() {
  const { parentUserId, childrenIds } = useAuth();
  const { isParentMode } = useMode();
  const router = useRouter();
  
  const [children, setChildren] = useState<any[]>([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    // è¦ªãƒ¢ãƒ¼ãƒ‰ã§ãªã„å ´åˆã¯ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
    if (!isParentMode) {
      router.push('/');
      return;
    }
    
    loadData();
  }, [isParentMode, childrenIds]);

  const loadData = async () => {
    try {
      const profiles = await Promise.all(
        childrenIds.map(async (id) => {
          const profile = await getChildProfile(id);
          const conversations = await getRecentConversations(id, 5);
          return { profile, conversations };
        })
      );
      setChildren(profiles.filter(p => p.profile !== null));
    } catch (error) {
      console.error('Failed to load data:', error);
    } finally {
      setLoading(false);
    }
  };

  if (loading) {
    return <div className="p-8">èª­ã¿è¾¼ã¿ä¸­...</div>;
  }

  return (
    <div className="min-h-screen bg-gray-50">
      <div className="max-w-7xl mx-auto p-8">
        <h1 className="text-3xl font-bold mb-8">è¦ªãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>

        {/* å­ä¾›ã”ã¨ã®çµ±è¨ˆ */}
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {children.map(({ profile, conversations }) => (
            <div key={profile.childId} className="bg-white rounded-lg shadow-lg p-6">
              <div className="flex items-center gap-3 mb-4">
                <div className="text-4xl">ğŸ‘¦</div>
                <div>
                  <h2 className="text-xl font-bold">{profile.name}</h2>
                  <p className="text-gray-600">{profile.age}æ­³</p>
                </div>
              </div>

              {/* çµ±è¨ˆæƒ…å ± */}
              <div className="space-y-2 mb-4">
                <div className="flex justify-between">
                  <span className="text-gray-600">ç·è³ªå•æ•°</span>
                  <span className="font-bold">{profile.stats.totalQuestions}</span>
                </div>
                <div className="flex justify-between">
                  <span className="text-gray-600">ç·ä¼šè©±æ•°</span>
                  <span className="font-bold">{profile.stats.totalConversations}</span>
                </div>
              </div>

              {/* æœ€è¿‘ã®ä¼šè©± */}
              <div>
                <h3 className="font-semibold mb-2">æœ€è¿‘ã®è³ªå•</h3>
                <div className="space-y-1">
                  {conversations.slice(0, 3).map((conv) => (
                    <div key={conv.conversationId} className="text-sm text-gray-600 truncate">
                      â€¢ {conv.question}
                    </div>
                  ))}
                </div>
              </div>

              {/* è©³ç´°ãƒœã‚¿ãƒ³ */}
              <button
                onClick={() => router.push(`/parent-dashboard/${profile.childId}`)}
                className="w-full mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"
              >
                è©³ç´°ã‚’è¦‹ã‚‹
              </button>
            </div>
          ))}
        </div>
      </div>
    </div>
  );
}
```

---

## ğŸ¯ æ¨å¥¨è¨­å®š

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ™ãƒ«åˆ¥

| ãƒ¬ãƒ™ãƒ« | æ–¹æ³• | é©ç”¨ã‚·ãƒ¼ãƒ³ |
|--------|------|-----------|
| **ä½** | UIéè¡¨ç¤ºã®ã¿ | å®¶åº­å†…ã®ã¿ä½¿ç”¨ |
| **ä¸­** | PINèªè¨¼ | æ¨å¥¨ï¼ˆãƒãƒ©ãƒ³ã‚¹è‰¯ã„ï¼‰ |
| **é«˜** | Googleå†èªè¨¼ | å­¦æ ¡ãªã©å…¬å…±ã®å ´ |

### æ¨å¥¨: PINèªè¨¼

**ç†ç”±**:
- âœ… å­ä¾›ãŒç°¡å˜ã«è¦ªãƒ¢ãƒ¼ãƒ‰ã«å…¥ã‚Œãªã„
- âœ… è¦ªã¯ç´ æ—©ãã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹
- âœ… å®Ÿè£…ãŒç°¡å˜
- âœ… UXãŒè‰¯ã„

**PINã®ä¿å­˜å ´æ‰€**:
```typescript
// users/{parentUserId}
{
  settings: {
    parentPin: "1234", // æš—å·åŒ–æ¨å¥¨
    requirePinForParentMode: true
  }
}
```

---

## ğŸ“± ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ

### ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆä½¿ç”¨ã‚’æƒ³å®š

```
å­ä¾›ãŒä½¿ã†: ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã‚’æ¨ªå‘ã
è¦ªãŒç¢ºèª: ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã‚’ç¸¦å‘ã + PINå…¥åŠ›
```

---

## ğŸ¨ ãƒ‡ã‚¶ã‚¤ãƒ³ã®å·®åˆ¥åŒ–

### å­ä¾›ãƒ¢ãƒ¼ãƒ‰
- ğŸŒˆ ã‚«ãƒ©ãƒ•ãƒ«
- ğŸ”¤ å¤§ããªæ–‡å­—
- ğŸ˜Š æ¥½ã—ã„ã‚¢ã‚¤ã‚³ãƒ³
- ğŸ® ã‚·ãƒ³ãƒ—ãƒ«ãªæ“ä½œ

### è¦ªãƒ¢ãƒ¼ãƒ‰
- ğŸ“Š è½ã¡ç€ã„ãŸè‰²
- ğŸ“ˆ è©³ç´°ãªæƒ…å ±
- ğŸ“‹ è¡¨å½¢å¼ã®ãƒ‡ãƒ¼ã‚¿
- âš™ï¸ è¨­å®šé …ç›®

---

## ã¾ã¨ã‚

### ç”»é¢æ§‹æˆ
```
å­ä¾›ãƒ¢ãƒ¼ãƒ‰ (/) â† ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
  â”œâ”€ ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼
  â”‚   â”œâ”€ å­ä¾›åˆ‡ã‚Šæ›¿ãˆ
  â”‚   â”œâ”€ å­ä¾›è¿½åŠ 
  â”‚   â”œâ”€ è¦ªãƒ¢ãƒ¼ãƒ‰ï¼ˆPINèªè¨¼ï¼‰
  â”‚   â””â”€ ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
  â”‚
è¦ªãƒ¢ãƒ¼ãƒ‰ (/parent-dashboard)
  â”œâ”€ å…¨å­ä¾›ã®çµ±è¨ˆ
  â”œâ”€ ä¼šè©±å±¥æ­´
  â”œâ”€ è¨­å®š
  â””â”€ å­ä¾›ãƒ¢ãƒ¼ãƒ‰ã«æˆ»ã‚‹
```

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- PINèªè¨¼ã§è¦ªãƒ¢ãƒ¼ãƒ‰ã‚’ä¿è­·
- å­ä¾›ã¯è¦ªæ©Ÿèƒ½ã«ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯
- è¦ªã¯ã„ã¤ã§ã‚‚å­ä¾›ãƒ¢ãƒ¼ãƒ‰ã«æˆ»ã‚Œã‚‹

ã“ã®è¨­è¨ˆã§å®Ÿè£…ã—ã¾ã™ã‹ï¼Ÿ
