# Project Specification: CurioProfessor (対話プロトタイプ版)

## 1. プロジェクト概要
* **ビジョン:** 忙しい親に代わり、AI博士が子供の「なぜ？」に最高の対話と図解で応える。
* **今回の目的:** 6歳児がストレスなく自然な会話を楽しめる「音声・映像体験」のコアロジックを構築する。
* **コア機能:** * ユーザーの特性（年齢・興味）に合わせたパーソナライズ対話。
    * 「絵本のような手書き風」インフォグラフィックのリアルタイム提示。
    * 例え話やストーリーを用いたわかりやすい解説。

---

## 2. 技術スタック (Conversation Focus)
認証・DBを排除し、フロントエンドとAIオーケストレーションにリソースを集中させます。

| レイヤー | 技術 | 役割 |
| :--- | :--- | :--- |
| **Frontend** | **Next.js (App Router)** | 音声入出力およびビジュアル表示のメインハブ。 |
| **AI (Brain)** | **Gemini 1.5 Flash** | ストリーミング対話の生成。低遅延でのテキストレスポンス。 |
| **Visual (Image)** | **Imagen 3 (Vertex AI)** | 「可愛らしい手書き風」インフォグラフィックの動的生成。 |
| **Voice (STT/TTS)** | **Google Speech-to-Text / TTS** | ストリーミング音声認識および博士のキャラクターボイス生成。 |
| **Infrastructure** | **Vercel / Local Node.js** | 開発環境およびデプロイ。 |

---

## 3. 会話セッションの設計

### 3.1 インタラクティブ・パイプライン
1.  **音声集音 (STT):** 子供の発話をリアルタイムでテキスト化。
2.  **プロンプト構築:** * **Input:** 子供の質問 + 親の設定データ（仮の定数として保持）。
    * **Role:** 「親しみやすいおじいさん博士」。6歳児に伝わる語彙のみを使用。
3.  **ストリーミング回答 (LLM):** * 回答の冒頭部分が生成され次第、逐次音声合成（TTS）を開始しラグを最小化する。
    * 解説の途中で、Imagen 3をバックグラウンドでキックし画像を生成。
4.  **マルチメディア提示:** * 音声解説と同期して、画面に「手書き風図解」をポップアップ。
5.  **セッション終了判定:** * 「わかったかな？」と問いかけ、アクションボタン（わかった！）のクリックを待機。

---

## 4. UI/UX 要件（6歳児向け）
* **インターフェース:** 文字による説明は一切なし。
* **視覚的フィードバック:** * 博士のアイコンが「話し中」「考え中」「聞き取り中」でアニメーション。
* **ビジュアルスタイル:** 絵本のような温かいタッチ（Imagen 3のプロンプトで固定）。
* **スマホをメインとしたUI**

---

## 5. 開発フェーズ (Next Steps)
1.  **Phase 1:** Google SDKを用いたSTT -> Gemini -> TTS の基本音声ループの実装。
2.  **Phase 2:** 会話内容に基づいたImagen 3による画像生成とフロントエンドでの表示連携。
3.  **Phase 3:** 親向けの「セッション要約」をJSON形式でコンソール